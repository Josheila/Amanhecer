{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/sheilazhai/Documents/Amanhecer/lib/diary.ts"],"sourcesContent":["// /lib/diary.ts\nimport fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\nexport interface Diary {\n  title: string;\n  date: string;\n  cover?: string;\n  slug: string;\n  content: string;\n}\n\n// üëâ cozydiary ÁõÆÂΩï\nconst diaryDirectory = path.join(process.cwd(), \"cozydiary\");\n\n// Ëé∑ÂèñÊâÄÊúâ diary\nexport function getAllDiaries(): Diary[] {\n  const filenames = fs.readdirSync(diaryDirectory);\n\n  const diaries: Diary[] = filenames\n    .filter((filename) => filename.endsWith(\".md\"))\n    .map((filename) => {\n      const filePath = path.join(diaryDirectory, filename);\n      const fileContents = fs.readFileSync(filePath, \"utf8\");\n      const { data, content } = matter(fileContents);\n\n      return {\n        slug: filename.replace(/\\.md$/, \"\"),\n        title: data.title,\n        date: data.date,\n        cover: data.cover || null,\n        content,\n      };\n    });\n\n  // üëâ ÊåâÊó∂Èó¥ÂÄíÂ∫è\n  diaries.sort((a, b) => (a.date < b.date ? 1 : -1));\n\n  return diaries;\n}\n\n// ÂçïÁØá diary\nexport function getDiaryBySlug(slug: string): Diary | null {\n  const filePath = path.join(diaryDirectory, `${slug}.md`);\n  if (!fs.existsSync(filePath)) return null;\n\n  const fileContents = fs.readFileSync(filePath, \"utf8\");\n  const { data, content } = matter(fileContents);\n\n  return {\n    slug,\n    title: data.title,\n    date: data.date,\n    cover: data.cover || null,\n    content,\n  };\n}\n"],"names":[],"mappings":";;;;;;AAAA,gBAAgB;AAChB;AACA;AACA;;;;AAUA,kBAAkB;AAClB,MAAM,iBAAiB,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAGzC,SAAS;IACd,MAAM,YAAY,wGAAE,CAAC,WAAW,CAAC;IAEjC,MAAM,UAAmB,UACtB,MAAM,CAAC,CAAC,WAAa,SAAS,QAAQ,CAAC,QACvC,GAAG,CAAC,CAAC;QACJ,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,gBAAgB;QAC3C,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,UAAU;QAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,gPAAM,EAAC;QAEjC,OAAO;YACL,MAAM,SAAS,OAAO,CAAC,SAAS;YAChC,OAAO,KAAK,KAAK;YACjB,MAAM,KAAK,IAAI;YACf,OAAO,KAAK,KAAK,IAAI;YACrB;QACF;IACF;IAEF,WAAW;IACX,QAAQ,IAAI,CAAC,CAAC,GAAG,IAAO,EAAE,IAAI,GAAG,EAAE,IAAI,GAAG,IAAI,CAAC;IAE/C,OAAO;AACT;AAGO,SAAS,eAAe,IAAY;IACzC,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,KAAK,GAAG,CAAC;IACvD,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW,OAAO;IAErC,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,UAAU;IAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,gPAAM,EAAC;IAEjC,OAAO;QACL;QACA,OAAO,KAAK,KAAK;QACjB,MAAM,KAAK,IAAI;QACf,OAAO,KAAK,KAAK,IAAI;QACrB;IACF;AACF"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/sheilazhai/Documents/Amanhecer/lib/date.ts"],"sourcesContent":["// /lib/date.ts\nexport function formatDate(dateStr: string): string {\n  const date = new Date(dateStr);\n  const year = date.getFullYear() % 100; // ÂèñÂπ¥‰ªΩÂêé‰∏§‰Ωç\n  const month = date.toLocaleString(\"en-US\", { month: \"short\" }); // Jan, Feb...\n  const day = date.getDate();\n  return `${month} ${day}, ${year.toString().padStart(2, \"0\")}`;\n}\n"],"names":[],"mappings":"AAAA,eAAe;;;;;AACR,SAAS,WAAW,OAAe;IACxC,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,OAAO,KAAK,WAAW,KAAK,KAAK,SAAS;IAChD,MAAM,QAAQ,KAAK,cAAc,CAAC,SAAS;QAAE,OAAO;IAAQ,IAAI,cAAc;IAC9E,MAAM,MAAM,KAAK,OAAO;IACxB,OAAO,GAAG,MAAM,CAAC,EAAE,IAAI,EAAE,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AAC/D"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/sheilazhai/Documents/Amanhecer/pages/cozydiary/%5Bdiary%5D.tsx"],"sourcesContent":["import { GetStaticPaths, GetStaticProps } from \"next\";\nimport { useRouter } from \"next/router\";\nimport { getAllDiaries, getDiaryBySlug, Diary } from \"../../lib/diary\";\nimport { formatDate } from \"../../lib/date\";\n\ninterface DiaryPageProps {\n  diary: Diary | null;\n}\n\nexport default function DiaryPage({ diary }: DiaryPageProps) {\n  const router = useRouter();\n\n  // fallback Êó∂ÊòæÁ§∫Âä†ËΩΩ\n  if (router.isFallback) {\n    return <div>Loading...</div>;\n  }\n\n  if (!diary) {\n    return <div>Diary not found</div>;\n  }\n\n  return (\n    <div className=\"container\" style={{ padding: \"1rem\" }}>\n      {/* ‰ΩøÁî® Header ÁªÑ‰ª∂ÔºåÂè™ÊòæÁ§∫‰∏Ä‰∏™ Posts ÊåâÈíÆ */}\n      <Header buttons={[{ label: \"Posts\", href: \"/posts\" }]} />\n      <h1 style={{ fontSize: \"2rem\", marginBottom: \"0.5rem\" }}>\n        {diary.title}\n      </h1>\n      <p style={{ color: \"var(--color-gray-400)\", marginBottom: \"1rem\" }}>\n        {formatDate(diary.date)}\n      </p>\n      {diary.cover && (\n        <div style={{ marginBottom: \"1rem\" }}>\n          <img\n            src={diary.cover}\n            alt={diary.title}\n            style={{\n              maxHeight: \"400px\",\n              objectFit: \"cover\",\n              width: \"50%\",\n              // height: \"250px\",\n              aspectRatio: \"1 / 1\",\n              borderRadius: \"16px\",\n              marginBottom: \"1rem\",\n            }}\n          />\n        </div>\n      )}\n      <div\n        className=\"diary-content\"\n        dangerouslySetInnerHTML={{ __html: diary.content }}\n        style={{ lineHeight: 1.6 }}\n      />\n    </div>\n  );\n}\n\n// ÈùôÊÄÅÁîüÊàêÊâÄÊúâË∑ØÂæÑ\nexport const getStaticPaths: GetStaticPaths = async () => {\n  const diaries = getAllDiaries(); // ËØªÂèñ CozyDiary Êñá‰ª∂Â§πÊâÄÊúâÊó•ËÆ∞\n  const paths = diaries.map((d) => ({\n    params: { diary: d.slug },\n  }));\n\n  return {\n    paths,\n    fallback: false, // ‰∏çÂ≠òÂú®ÁöÑËøîÂõû 404\n  };\n};\n\n// ÈùôÊÄÅÁîüÊàêÂçïÁØáÊó•ËÆ∞\nexport const getStaticProps: GetStaticProps = async ({ params }) => {\n  const slug = params?.diary as string;\n  const diary = getDiaryBySlug(slug);\n\n  return {\n    props: {\n      diary,\n    },\n  };\n};\n"],"names":[],"mappings":";;;;;;;;;AACA;AACA;AACA;;;;;AAMe,SAAS,UAAU,EAAE,KAAK,EAAkB;IACzD,MAAM,SAAS,IAAA,mQAAS;IAExB,iBAAiB;IACjB,IAAI,OAAO,UAAU,EAAE;QACrB,qBAAO,qKAAC;sBAAI;;;;;;IACd;IAEA,IAAI,CAAC,OAAO;QACV,qBAAO,qKAAC;sBAAI;;;;;;IACd;IAEA,qBACE,qKAAC;QAAI,WAAU;QAAY,OAAO;YAAE,SAAS;QAAO;;0BAElD,qKAAC;gBAAO,SAAS;oBAAC;wBAAE,OAAO;wBAAS,MAAM;oBAAS;iBAAE;;;;;;0BACrD,qKAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAQ,cAAc;gBAAS;0BACnD,MAAM,KAAK;;;;;;0BAEd,qKAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAyB,cAAc;gBAAO;0BAC9D,IAAA,kHAAU,EAAC,MAAM,IAAI;;;;;;YAEvB,MAAM,KAAK,kBACV,qKAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,qKAAC;oBACC,KAAK,MAAM,KAAK;oBAChB,KAAK,MAAM,KAAK;oBAChB,OAAO;wBACL,WAAW;wBACX,WAAW;wBACX,OAAO;wBACP,mBAAmB;wBACnB,aAAa;wBACb,cAAc;wBACd,cAAc;oBAChB;;;;;;;;;;;0BAIN,qKAAC;gBACC,WAAU;gBACV,yBAAyB;oBAAE,QAAQ,MAAM,OAAO;gBAAC;gBACjD,OAAO;oBAAE,YAAY;gBAAI;;;;;;;;;;;;AAIjC;AAGO,MAAM,iBAAiC;IAC5C,MAAM,UAAU,IAAA,sHAAa,KAAI,uBAAuB;IACxD,MAAM,QAAQ,QAAQ,GAAG,CAAC,CAAC,IAAM,CAAC;YAChC,QAAQ;gBAAE,OAAO,EAAE,IAAI;YAAC;QAC1B,CAAC;IAED,OAAO;QACL;QACA,UAAU;IACZ;AACF;AAGO,MAAM,iBAAiC,OAAO,EAAE,MAAM,EAAE;IAC7D,MAAM,OAAO,QAAQ;IACrB,MAAM,QAAQ,IAAA,uHAAc,EAAC;IAE7B,OAAO;QACL,OAAO;YACL;QACF;IACF;AACF"}}]
}